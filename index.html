<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />

  <!-- тЬЕ Mobile browser tuning -->
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="theme-color" content="#8B1E1E" />
  <meta name="apple-mobile-web-app-capable" content="yes" />

  <meta name="description" content="Our Sampradhaya | Saravana - Temple Priest | Rituals, Pujas, Homams | Book online" />
  <title>Our Sampradhaya | Saravana - Temple Priest Services</title>
  <link rel="icon" href="data:," />

  <!-- Calendly embed script (official) -->
  <script src="https://assets.calendly.com/assets/external/widget.js" async></script>

  <style>
    :root{
      --saffron:#F4A300;
      --deep-saffron:#E68A00;
      --temple-red:#8B1E1E;

      --bg-main:#FFF6E5;
      --bg-soft:#FFF1D6;

      --panel-hero: rgba(255, 245, 228, 0.80);
      --panel-about: rgba(255, 239, 210, 0.72);
      --panel-services: rgba(255, 231, 186, 0.60);
      --panel-book: rgba(255, 241, 214, 0.68);
      --panel-contact: rgba(255, 237, 206, 0.70);

      --text-main:#3A2A1A;
      --text-muted:#6B4E2E;

      --border-soft: rgba(139,30,30,0.16);
      --shadow-soft: 0 12px 30px rgba(139,30,30,0.12);

      --radius:18px;
      --max:980px;

      /* iPhone notch safe areas */
      --safe-top: env(safe-area-inset-top, 0px);
      --safe-right: env(safe-area-inset-right, 0px);
      --safe-bottom: env(safe-area-inset-bottom, 0px);
      --safe-left: env(safe-area-inset-left, 0px);
    }

    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background:
        radial-gradient(900px 520px at 12% 0%, rgba(244,163,0,0.25), transparent 60%),
        radial-gradient(760px 520px at 90% 22%, rgba(139,30,30,0.18), transparent 60%),
        linear-gradient(180deg, var(--bg-main), #FFE8B8);
      color:var(--text-main);
      line-height:1.6;
      overflow-x:hidden; /* тЬЕ prevents horizontal scrolling */
      -webkit-text-size-adjust: 100%;
      touch-action: manipulation;
    }

    /* тЬЕ Watermark */
    body::before{
      content:"";
      position:fixed; inset:0;
      pointer-events:none;
      z-index:0;
      opacity:0.10;
      background-repeat:repeat;
      background-size:420px 420px;
      background-position:40px 20px;
      background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='420' height='420'>\n  <rect width='100%25' height='100%25' fill='none'/>\n  <g transform='translate(40,40) rotate(-18 170 170)'>\n    <text x='0' y='150' font-family='Georgia, serif' font-size='170' fill='%238B1E1E' opacity='0.25'>реР</text>\n    <text x='10' y='210' font-family='Georgia, serif' font-size='44' fill='%23E68A00' opacity='0.35'>Om Shakti</text>\n  </g>\n</svg>");
    }

    a{ color:inherit; text-decoration:none; }
    .wrap{
      max-width:var(--max);
      margin:0 auto;
      padding: 18px;
      padding-left: calc(18px + var(--safe-left));
      padding-right: calc(18px + var(--safe-right));
      position:relative;
      z-index:1;
    }

    /* тЬЕ Sticky Topbar with safe-area padding (iOS notch) */
    .topbar{
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(255,241,214,0.98);
      border-bottom: 2px solid rgba(139,30,30,0.22);
      padding-top: var(--safe-top);
      /* iOS performance: reduce blur (blur can lag on old phones) */
      -webkit-backdrop-filter: blur(6px);
      backdrop-filter: blur(6px);
    }
    .topbar .row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding: 12px 18px;
      padding-left: calc(18px + var(--safe-left));
      padding-right: calc(18px + var(--safe-right));
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      font-weight:950;
      letter-spacing:.2px;
      min-width: 220px;
      white-space:nowrap;
    }
    .dot{
      width:10px;height:10px;border-radius:999px;
      background: var(--temple-red);
      box-shadow: 0 0 0 6px rgba(139,30,30,.12);
    }
    .nav{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:flex-end;
    }
    .pill{
      padding:8px 12px;
      border:1px solid rgba(139,30,30,.20);
      border-radius:999px;
      font-size:14px;
      background: rgba(255,255,255,.55);
    }
    .pill.cta{
      background: linear-gradient(90deg, var(--saffron), var(--deep-saffron));
      border:none;
      color:#4A2C0A;
      font-weight:950;
    }

    .lang-toggle{
      display:flex;
      border:1px solid rgba(139,30,30,.20);
      background: rgba(255,255,255,.55);
      border-radius:999px;
      overflow:hidden;
    }
    .lang-toggle button{
      border:none; background:transparent;
      padding:8px 10px;
      font-weight:950;
      cursor:pointer;
      font-size:13px;
      min-width:56px;
    }
    .lang-toggle button.active{
      background: rgba(244,163,0,.22);
    }

    section{ padding: 16px 0; scroll-margin-top: 90px; } /* тЬЕ no header overlap */
    .panel{
      border:1px solid var(--border-soft);
      border-radius: var(--radius);
      box-shadow: var(--shadow-soft);
      padding:16px;
    }
    .panel.hero{ background: var(--panel-hero); }
    .panel.about{ background: var(--panel-about); }
    .panel.services{ background: var(--panel-services); }
    .panel.book{ background: var(--panel-book); }
    .panel.contact{ background: var(--panel-contact); }

    .section-title{
      font-size:22px;
      margin:0 0 12px;
      color: var(--temple-red);
      letter-spacing:.2px;
    }

    .hero-grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:14px;
      align-items:stretch;
    }
    @media (max-width: 860px){
      .hero-grid{ grid-template-columns:1fr; }
    }

    h1{
      margin:0 0 8px;
      font-size: clamp(26px, 4.6vw, 44px);
      line-height:1.1;
      color:#2F2014;
    }
    .subtitle{ margin:0 0 14px; color: var(--text-muted); font-size:16px; }

    .badges{ display:flex; gap:10px; flex-wrap:wrap; margin-top:8px; }
    .badge{
      font-size:13px;
      padding:7px 10px;
      border-radius:999px;
      border:1px solid rgba(139,30,30,.18);
      background: rgba(255,255,255,.40);
    }

    .actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:14px; }
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      gap:8px;
      padding:12px 14px;
      border-radius:14px;
      border:1px solid rgba(139,30,30,.20);
      background: rgba(255,255,255,.55);
      font-weight:950;
      min-width:150px;
      min-height:44px; /* тЬЕ iOS tap target */
    }
    .btn.primary{
      background: linear-gradient(90deg, var(--saffron), var(--deep-saffron));
      border:none;
      color:#4A2C0A;
    }
    .btn.success{
      background: linear-gradient(90deg, #2E7D32, #66BB6A);
      border:none;
      color:#0F2A14;
    }

    /* тЬЕ Mobile: buttons become full width */
    @media (max-width: 520px){
      .actions .btn{
        width:100%;
        min-width:0;
      }
      .nav .pill{ font-size:13px; padding:7px 10px; }
      .brand{ min-width: 0; }
    }

    .side{
      border:1px solid rgba(139,30,30,.16);
      border-radius: var(--radius);
      padding:14px;
      background: rgba(255,255,255,.42);
    }
    .kpi{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:10px;
    }
    .kpi .box{
      border:1px solid rgba(139,30,30,.14);
      border-radius:16px;
      padding:12px;
      background: rgba(255,255,255,.50);
    }
    .kpi .num{ font-size:22px; font-weight:950; }
    .kpi .label{ font-size:13px; color: var(--text-muted); }

    .about-flex{ display:flex; gap:14px; align-items:flex-start; }
    @media (max-width: 860px){ .about-flex{ flex-direction:column; } }
    .profile{
      width:120px; height:120px;
      border-radius:18px;
      border:1px solid rgba(139,30,30,.20);
      background: rgba(255,255,255,.55);
      object-fit:cover;
      box-shadow: 0 10px 24px rgba(139,30,30,.10);
    }
    .profile-note{ font-size:12px; color: var(--text-muted); margin-top:8px; }

    .grid3{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
    }
    @media (max-width: 860px){ .grid3{ grid-template-columns:1fr; } }

    /* Service cards */
    .service-card{
      position:relative;
      border-radius: var(--radius);
      overflow:hidden;
      border:1px solid rgba(139,30,30,.16);
      box-shadow: var(--shadow-soft);
      min-height: 220px;
      background-size: cover;
      background-position: center;
    }
    @media (max-width: 520px){
      .service-card{ min-height: 240px; } /* тЬЕ a bit taller for mobile */
    }
    .service-card::before{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(180deg,
        rgba(58,42,26,.18),
        rgba(58,42,26,.55) 55%,
        rgba(58,42,26,.72));
    }
    .service-content{
      position:absolute; inset:0;
      padding:14px;
      display:flex;
      flex-direction:column;
      justify-content:flex-end;
      gap:8px;
      color:#fff;
    }
    .service-title{
      margin:0;
      font-size:16px;
      line-height:1.2;
      font-weight:950;
      text-shadow: 0 2px 10px rgba(0,0,0,.25);
    }
    .service-desc{
      margin:0;
      font-size:13px;
      color: rgba(255,255,255,.92);
    }
    .service-meta{
      display:flex; gap:8px; flex-wrap:wrap;
      font-size:12px;
      color: rgba(255,255,255,.92);
    }
    .tag{
      padding:6px 9px;
      border-radius:999px;
      background: rgba(255,255,255,.18);
      border:1px solid rgba(255,255,255,.22);
      -webkit-backdrop-filter: blur(6px);
      backdrop-filter: blur(6px);
    }
    .service-actions{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-top:6px;
    }
    .service-actions .btn{
      min-width:0;
      padding:10px 12px;
      border-radius:12px;
      background: rgba(255,255,255,.18);
      border:1px solid rgba(255,255,255,.22);
      color:#fff;
    }
    .service-actions .btn.primary{
      background: linear-gradient(90deg, rgba(244,163,0,.95), rgba(230,138,0,.95));
      border:none;
      color:#3A2A1A;
    }
    @media (max-width: 520px){
      .service-actions .btn{ width:100%; }
    }

    .other-services{
      grid-column: 1 / -1;
      border-radius: var(--radius);
      overflow:hidden;
      border:1px solid rgba(139,30,30,.16);
      box-shadow: var(--shadow-soft);
      background:
        radial-gradient(700px 240px at 10% 0%, rgba(244,163,0,.22), transparent 60%),
        radial-gradient(700px 240px at 90% 15%, rgba(139,30,30,.18), transparent 60%),
        rgba(255,255,255,.38);
      padding:16px;
    }
    .other-services h3{ margin:0 0 6px; font-size:16px; font-weight:950; }
    .other-services p{ margin:0 0 12px; color: var(--text-muted); font-size:14px; }
    .chips{ display:flex; gap:8px; flex-wrap:wrap; }
    .chip{
      padding:7px 10px;
      border-radius:999px;
      border:1px solid rgba(139,30,30,.16);
      background: rgba(255,255,255,.45);
      font-size:13px;
      font-weight:900;
    }

    .split{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px;
    }
    @media (max-width: 860px){ .split{ grid-template-columns:1fr; } }

    .box-card{
      border:1px solid rgba(139,30,30,.16);
      border-radius: var(--radius);
      background: rgba(255,255,255,.45);
      padding:16px;
    }

    .contact-list{ display:flex; flex-direction:column; gap:10px; }
    .contact-item{
      display:flex; gap:10px; align-items:flex-start;
      padding:12px;
      border-radius:16px;
      border:1px solid rgba(139,30,30,.16);
      background: rgba(255,255,255,.40);
      word-break: break-word;
    }
    .contact-item span{ color: var(--text-muted); font-size:14px; }

    /* тЬЕ Calendly: better mobile height */
    .cal-wrap{
      border-radius: var(--radius);
      overflow:hidden;
      border:1px solid rgba(139,30,30,.18);
      background: rgba(255,255,255,.35);
      min-height: 740px;
    }
    @media (max-width: 520px){
      .cal-wrap{ min-height: 860px; }
      #calendlyInline{ height: 860px !important; }
    }

    .footer{
      padding: 18px 0 calc(40px + var(--safe-bottom));
      color: rgba(107,78,46,.95);
      font-size:13px;
      text-align:center;
    }

    /* тЬЕ Respect user settings */
    @media (prefers-reduced-motion: reduce){
      html{ scroll-behavior:auto; }
      *{ transition:none !important; animation:none !important; }
    }
  </style>
</head>

<body>
  <script>
    const SITE_NAME = "Our Sampradhaya";

    // EDIT THESE VALUES:
    const SARAVANA_PHONE   = "+65 9000 0000";
    const SARAVANA_EMAIL   = "saravana@example.com";
    const WHATSAPP_NUMBER  = "6590000000"; // digits only recommended
    const TEMPLE_OR_CITY   = "Singapore";
    const CALENDLY_URL     = "https://calendly.com/your-calendly/temple-services";
    const SARAVANA_PHOTO   = "saravana.jpg";

    function makeBg(kind){
      const palette = {
        house:{a:"#F4A300", b:"#8B1E1E", c:"#FFF1D6", icon:"ЁЯПа"},
        satya:{a:"#F6B73C", b:"#A11B1B", c:"#FFF6E5", icon:"ЁЯкФ"},
        homam:{a:"#FFB000", b:"#7A1313", c:"#FFE2B2", icon:"ЁЯФе"},
        arch:{a:"#F4A300", b:"#6B2B2B", c:"#FFF1D6", icon:"ЁЯЩП"},
        naming:{a:"#F8C35A", b:"#8B1E1E", c:"#FFF6E5", icon:"ЁЯС╢"},
        consult:{a:"#F2A000", b:"#8B1E1E", c:"#FFE8B8", icon:"ЁЯЧУя╕П"},
      };
      const p = palette[kind] || palette.house;
      const svg =
        `
        <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800'>
          <defs>
            <linearGradient id='g' x1='0' y1='0' x2='1' y2='1'>
              <stop offset='0' stop-color='${p.a}' stop-opacity='0.95'/>
              <stop offset='1' stop-color='${p.b}' stop-opacity='0.95'/>
            </linearGradient>
            <radialGradient id='r' cx='30%' cy='20%' r='70%'>
              <stop offset='0' stop-color='${p.c}' stop-opacity='0.9'/>
              <stop offset='1' stop-color='${p.c}' stop-opacity='0'/>
            </radialGradient>
          </defs>
          <rect width='100%' height='100%' fill='url(#g)'/>
          <rect width='100%' height='100%' fill='url(#r)'/>
          <g opacity='0.22' fill='none' stroke='white' stroke-width='6'>
            <path d='M120 620 Q600 220 1080 620' />
            <path d='M200 620 Q600 300 1000 620' />
            <rect x='260' y='610' width='680' height='140' rx='32' />
          </g>
          <g opacity='0.26'>
            <text x='80' y='210' font-family='Georgia, serif' font-size='160' fill='white'>реР</text>
            <text x='88' y='280' font-family='Georgia, serif' font-size='44' fill='white'>Om Shakti</text>
          </g>
          <g opacity='0.95'>
            <text x='1040' y='150' text-anchor='middle' font-size='92'>${p.icon}</text>
          </g>
        </svg>
      `;
      return "data:image/svg+xml;utf8," + encodeURIComponent(svg);
    }

    const SERVICES = [
      { key:"srv_house", kind:"house", tags:["In-person","Home"], duration:"90тАУ150 min" },
      { key:"srv_satya", kind:"satya", tags:["In-person","Online"], duration:"60тАУ120 min" },
      { key:"srv_homam", kind:"homam", tags:["In-person"], duration:"90тАУ180 min" },
      { key:"srv_archana", kind:"arch", tags:["Online","Temple"], duration:"15тАУ30 min" },
      { key:"srv_naming", kind:"naming", tags:["In-person"], duration:"60тАУ120 min" },
      { key:"srv_consult", kind:"consult", tags:["Online"], duration:"20тАУ30 min" },
    ];

    const I18N = {
      en: {
        site_name: SITE_NAME,
        brand: SITE_NAME + " тАв Saravana",
        nav_about:"About", nav_services:"Services", nav_book:"Book", nav_contact:"Contact", nav_booknow:"Book now",
        hero_title:"Trusted rituals & guidance тАФ in person or online.",
        hero_subtitle_html:"Saravana is a temple priest with <strong>40+ years</strong> of experience conducting traditional ceremonies with devotion and care in <span id='templeCityInline'></span>.",
        badge1:"тЬФ Traditional Vedic rituals", badge2:"тЬФ Clear preparation checklist", badge3:"тЬФ English / Tamil / Telugu",
        btn_book:"ЁЯУЕ Book a slot", btn_whatsapp:"ЁЯТм WhatsApp", btn_call:"ЁЯУЮ Call",
        hero_mini:"Prefer enquiry first? Use WhatsApp or book a short consultation in the calendar.",
        kpi1_num:"40+", kpi1_label:"Years experience",
        kpi2_num:"Online", kpi2_label:"Puja & guidance",
        kpi3_num:"Home", kpi3_label:"House rituals",
        kpi4_num:"Temple", kpi4_label:"Special archana",
        note:"Book instantly via Calendly, or message for custom requirements, materials list, and pricing.",
        quickbook:"тЪб Quick Book (popup)",
        about_title:"About",
        about_p1_html:"Saravana is a dedicated temple priest with around <strong>40 years</strong> of experience performing sacred rituals and guiding families through traditional ceremonies. He offers services <strong>in person</strong> (home/temple) and <strong>online</strong> (consultation, sankalpam guidance, virtual puja support).",
        about_p2:"You can book a suitable time below, or message directly for special requests and preparation details.",
        about_photo_note:"Replace saravana.jpg with his real photo.",
        services_title:"Services",
        enquire_btn:"Enquire", book_btn_small:"Book",
        other_title:"Other services",
        other_desc:"If you need a specific ritual not listed above, please message Saravana. He can guide on muhurtham, samagri (items list), procedure, and duration based on your tradition.",
        other_chip1:"Daily puja support",
        other_chip2:"Vastu / graha shanti",
        other_chip3:"Death ceremonies",
        other_chip4:"Festival special pujas",
        other_chip5:"Temple event support",
        book_title:"Book / Enquire",
        how_title:"How booking works",
        how_1:"Select a convenient date/time.",
        how_2:"Add notes (service type, location, preferred language).",
        how_3:"YouтАЩll receive confirmation and next steps.",
        email_label:"Email",
        wa_label:"WhatsApp",
        wa_sub:"Fast enquiries & details",
        tip:"Tip: In your note, mention тАЬService + Date + Location + Any special requestтАЭ.",
        quickbook:"тЪб Quick Book (popup)",
        template_title:"Enquiry note template",
        template_html:"Vanakkam ЁЯЩП<br/>I would like to book <strong>[Service]</strong> on <strong>[Date]</strong> at <strong>[Location]</strong>.<br/>Preferred language: <strong>[Tamil/English/Telugu]</strong>.<br/>Notes: <strong>[Any special requirement]</strong>.",
        copy_btn:"ЁЯУЛ Copy message",
        template_tip:"Use this in WhatsApp or inside the booking notes in the calendar.",
        footer:"All rights reserved",
        srv_house_title:"Griha Pravesham / Housewarming Puja",
        srv_house_desc:"Auspicious rituals for new home entry, vastu & blessings.",
        srv_satya_title:"Satyanarayana Puja",
        srv_satya_desc:"Traditional puja for prosperity, wellbeing, and gratitude.",
        srv_homam_title:"Homam / Havan",
        srv_homam_desc:"Fire ritual with sankalpam for specific intentions and peace.",
        srv_archana_title:"Archana / Special Pooja",
        srv_archana_desc:"Customized archana for deity and your family sankalpam.",
        srv_naming_title:"Naming / Annaprashana",
        srv_naming_desc:"Rituals for newborn milestones and family blessings.",
        srv_consult_title:"Consultation (Muhurtham / Ritual Guidance)",
        srv_consult_desc:"Guidance on dates, procedures, and preparation."
      },
      ta: {
        site_name: SITE_NAME,
        brand: SITE_NAME + " тАв роЪро░ро╡рогро╛",
        nav_about:"рокро▒рпНро▒ро┐", nav_services:"роЪрпЗро╡рпИроХро│рпН", nav_book:"роорпБройрпНрокродро┐ро╡рпБ", nav_contact:"родрпКроЯро░рпНрокрпБ", nav_booknow:"роЗрокрпНрокрпЛродрпБ роорпБройрпНрокродро┐ро╡рпБ",
        hero_title:"роирпЗро░ро┐ро▓рпН роЕро▓рпНро▓родрпБ роЖройрпНро▓рпИройро┐ро▓рпН тАФ роироорпНрокро┐роХрпНроХрпИроХрпНроХрпБро░ро┐роп рокрпВроЬрпИроХро│рпН & ро╡ро┤ро┐роХро╛роЯрпНроЯро▓рпН.",
        hero_subtitle_html:"роЪро░ро╡рогро╛ роЕро╡ро░рпНроХро│рпН <strong>40+ роЖрогрпНроЯрпБроХро│рпН</strong> роЕройрпБрокро╡роорпБро│рпНро│ роХрпЛро╡ро┐ро▓рпН роЕро░рпНроЪрпНроЪроХро░рпН. <span id='templeCityInline'></span> рокроХрпБродро┐ропро┐ро▓рпН рокроХрпНродро┐ропрпБроЯройрпН рокро╛ро░роорпНрокро░ро┐роп рокрпВроЬрпИроХро│рпН роЪрпЖропрпНродрпБ ро╡ро░рпБроХро┐ро▒ро╛ро░рпН.",
        badge1:"тЬФ рокро╛ро░роорпНрокро░ро┐роп ро╡рпЗрод роорпБро▒рпИроХро│рпН", badge2:"тЬФ родропро╛ро░ро┐рокрпНрокрпБ рокроЯрпНроЯро┐ропро▓рпН ро╡ро┤ро┐роХро╛роЯрпНроЯро▓рпН", badge3:"тЬФ родрооро┐ро┤рпН / роЖроЩрпНроХро┐ро▓роорпН / родрпЖро▓рпБроЩрпНроХрпБ",
        btn_book:"ЁЯУЕ роирпЗро░роорпН роорпБройрпНрокродро┐ро╡рпБ", btn_whatsapp:"ЁЯТм WhatsApp", btn_call:"ЁЯУЮ роЕро┤рпИрокрпНрокрпБ",
        hero_mini:"роорпБродро▓ро┐ро▓рпН ро╡ро┐роЪро╛ро░ро┐роХрпНроХ ро╡рпЗрогрпНроЯрпБрооро╛? WhatsApp роЪрпЖропрпНропрпБроЩрпНроХро│рпН роЕро▓рпНро▓родрпБ роХрпБро▒рпБроХро┐роп роЖро▓рпЛроЪройрпИропрпИ роорпБройрпНрокродро┐ро╡рпБ роЪрпЖропрпНропрпБроЩрпНроХро│рпН.",
        kpi1_num:"40+", kpi1_label:"роЖрогрпНроЯрпБроХро│рпН роЕройрпБрокро╡роорпН",
        kpi2_num:"роЖройрпНро▓рпИройрпН", kpi2_label:"рокрпВроЬрпИ & ро╡ро┤ро┐роХро╛роЯрпНроЯро▓рпН",
        kpi3_num:"ро╡рпАроЯрпБ", kpi3_label:"ро╡рпАроЯрпНроЯрпБ рокрпВроЬрпИроХро│рпН",
        kpi4_num:"роХрпЛро╡рпИ", kpi4_label:"роЪро┐ро▒рокрпНрокрпБ роЕро░рпНроЪрпНроЪройрпИ",
        note:"Calendly роорпВро▓роорпН роирпЗро░роорпН роорпБройрпНрокродро┐ро╡рпБ роЪрпЖропрпНропро▓ро╛роорпН роЕро▓рпНро▓родрпБ родрпЗро╡рпИроХро│рпН/роЪро╛рооро╛ройрпНроХро│рпН/роХроЯрпНроЯрог ро╡ро┐ро╡ро░роЩрпНроХро│рпБроХрпНроХрпБ роЪрпЖропрпНродро┐ роЪрпЖропрпНропро▓ро╛роорпН.",
        quickbook:"тЪб ро╡ро┐ро░рпИро╡рпБ роорпБройрпНрокродро┐ро╡рпБ (popup)",
        about_title:"рокро▒рпНро▒ро┐",
        about_p1_html:"роЪро░ро╡рогро╛ роЕро╡ро░рпНроХро│рпН <strong>40 роЖрогрпНроЯрпБроХро│рпБроХрпНроХрпБроорпН роорпЗро▓рпН</strong> роЕройрпБрокро╡роорпБро│рпНро│ роХрпЛро╡ро┐ро▓рпН роЕро░рпНроЪрпНроЪроХро░рпН. роХрпБроЯрпБроорпНрок роиро┐роХро┤рпНроЪрпНроЪро┐роХро│рпБроХрпНроХро╛рой рокро╛ро░роорпНрокро░ро┐роп роЪроЯроЩрпНроХро│рпБроХрпНроХро╛рой рокрпВроЬрпИроХро│рпН, ро╣рпЛроороЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН роЖро▓рпЛроЪройрпИроХро│рпН роЖроХро┐ропро╡ро▒рпНро▒рпИ рокроХрпНродро┐ропрпБроЯройрпН роироЯродрпНродрпБроХро┐ро▒ро╛ро░рпН. <strong>роирпЗро░ро┐ро▓рпН</strong> (ро╡рпАроЯрпБ/роХрпЛро╡ро┐ро▓рпН) рооро▒рпНро▒рпБроорпН <strong>роЖройрпНро▓рпИройрпН</strong> (роЖро▓рпЛроЪройрпИ, роЪроЩрпНроХро▓рпНрок ро╡ро┤ро┐роХро╛роЯрпНроЯро▓рпН) роЪрпЗро╡рпИроХро│рпН ро╡ро┤роЩрпНроХрпБроХро┐ро▒ро╛ройрпН.",
        about_p2:"роХрпАро┤рпЗ роирпЗро░роорпН роорпБройрпНрокродро┐ро╡рпБ роЪрпЖропрпНропро▓ро╛роорпН роЕро▓рпНро▓родрпБ роЪро┐ро▒рокрпНрокрпБ родрпЗро╡рпИроХро│рпБроХрпНроХрпБ роирпЗро░роЯро┐ропро╛роХ роЪрпЖропрпНродро┐ роЪрпЖропрпНропро▓ро╛роорпН.",
        about_photo_note:"saravana.jpg роР роЙрогрпНроорпИ рокрпБроХрпИрокрпНрокроЯродрпНродрпБроЯройрпН рооро╛ро▒рпНро▒ро╡рпБроорпН.",
        services_title:"роЪрпЗро╡рпИроХро│рпН",
        enquire_btn:"ро╡ро┐роЪро╛ро░ро┐роХрпНроХ", book_btn_small:"роорпБройрпНрокродро┐ро╡рпБ",
        other_title:"рооро▒рпНро▒ роЪрпЗро╡рпИроХро│рпН",
        other_desc:"роорпЗро▓рпЗ рокроЯрпНроЯро┐ропро▓ро┐ро▓рпН роЗро▓рпНро▓ро╛род роЪроЯроЩрпНроХрпБроХро│рпН ро╡рпЗрогрпНроЯрпБроорпЖройро┐ро▓рпН родропро╡рпБроЪрпЖропрпНродрпБ роЪро░ро╡рогро╛ро╡рпИ родрпКроЯро░рпНрокрпБроХрпКро│рпНро│рпБроЩрпНроХро│рпН. роорпБроХрпВро░рпНродрпНродроорпН, роЪроороХрпНро░ро┐ рокроЯрпНроЯро┐ропро▓рпН, роироЯрпИроорпБро▒рпИ, роХро╛ро▓ роЕро│ро╡рпБ рокрпЛройрпНро▒ро╡ро▒рпНро▒рпИ ро╡ро┤ро┐роХро╛роЯрпНроЯрпБро╡ро╛ро░рпН.",
        other_chip1:"родро┐ройроЪро░ро┐ рокрпВроЬрпИ роЙродро╡ро┐",
        other_chip2:"ро╡ро╛ро╕рпНродрпБ / роХро┐ро░роХ роЪро╛роирпНродро┐",
        other_chip3:"роЕроирпНродро┐роо роЪроЯроЩрпНроХрпБроХро│рпН",
        other_chip4:"родро┐ро░рпБро╡ро┐ро┤ро╛ роЪро┐ро▒рокрпНрокрпБ рокрпВроЬрпИроХро│рпН",
        other_chip5:"роХрпЛро╡ро┐ро▓рпН роиро┐роХро┤рпНроЪрпНроЪро┐ роЙродро╡ро┐",
        book_title:"роорпБройрпНрокродро┐ро╡рпБ / ро╡ро┐роЪро╛ро░рогрпИ",
        how_title:"роорпБройрпНрокродро┐ро╡рпБ роОрокрпНрокроЯро┐?",
        how_1:"роЙроЩрпНроХро│рпБроХрпНроХрпБ ро╡роЪродро┐ропро╛рой родрпЗродро┐/роирпЗро░роорпН родрпЗро░рпНро╡рпБ роЪрпЖропрпНропрпБроЩрпНроХро│рпН.",
        how_2:"роЪрпЗро╡рпИ, роЗроЯроорпН, роорпКро┤ро┐ рокрпЛройрпНро▒ роХрпБро▒ро┐рокрпНрокрпБроХро│рпИ роЪрпЗро░рпНроХрпНроХро╡рпБроорпН.",
        how_3:"роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро▓рпН & роЕроЯрпБродрпНрод рокроЯро┐роХро│рпН роХро┐роЯрпИроХрпНроХрпБроорпН.",
        email_label:"рооро┐ройрпНройроЮрпНроЪро▓рпН",
        wa_label:"WhatsApp",
        wa_sub:"ро╡ро┐ро░рпИро╡ро╛рой ро╡ро┐роЪро╛ро░рогрпИ",
        tip:"роХрпБро▒ро┐рокрпНрокрпБ: тАЬроЪрпЗро╡рпИ + родрпЗродро┐ + роЗроЯроорпН + роЪро┐ро▒рокрпНрокрпБ ро╡рпЗрогрпНроЯрпБроХрпЛро│рпНтАЭ роОройрпНро▒рпБ роОро┤рпБродрпБроЩрпНроХро│рпН.",
        contact_title:"родрпКроЯро░рпНрокрпБ",
        call_label:"роЕро┤рпИрокрпНрокрпБ",
        location_label:"роЗроЯроорпН",
        template_title:"ро╡ро┐роЪро╛ро░рогрпИ роЪрпЖропрпНродро┐ рооро╛родро┐ро░ро┐",
        template_html:"ро╡рогроХрпНроХроорпН ЁЯЩП<br/>роиро╛ройрпН <strong>[роЪрпЗро╡рпИ]</strong> роР <strong>[родрпЗродро┐]</strong> роЕройрпНро▒рпБ <strong>[роЗроЯроорпН]</strong> роЗро▓рпН роорпБройрпНрокродро┐ро╡рпБ роЪрпЖропрпНроп ро╡ро┐ро░рпБроорпНрокрпБроХро┐ро▒рпЗройрпН.<br/>роорпКро┤ро┐: <strong>[родрооро┐ро┤рпН/роЖроЩрпНроХро┐ро▓роорпН/родрпЖро▓рпБроЩрпНроХрпБ]</strong>.<br/>роХрпБро▒ро┐рокрпНрокрпБ: <strong>[роЪро┐ро▒рокрпНрокрпБ ро╡рпЗрогрпНроЯрпБроХрпЛро│рпН]</strong>.",
        copy_btn:"ЁЯУЛ роЪрпЖропрпНродро┐ропрпИ роироХро▓рпЖроЯрпБ",
        template_tip:"роЗроирпНрод роЪрпЖропрпНродро┐ропрпИ WhatsApp роЕро▓рпНро▓родрпБ роорпБройрпНрокродро┐ро╡рпБ роХрпБро▒ро┐рокрпНрокрпБроХро│ро┐ро▓рпН рокропройрпНрокроЯрпБродрпНродрпБроЩрпНроХро│рпН.",
        footer:"роЕройрпИродрпНродрпБ роЙро░ро┐роорпИроХро│рпБроорпН рокро╛родрпБроХро╛роХрпНроХрокрпНрокроЯрпБроХро┐ройрпНро▒рой",
        srv_house_title:"роХро┐ро░рпБро╣рокрпН рокро┐ро░ро╡рпЗроЪроорпН / роЗро▓рпНро▓рокрпНрокрпБроХрпБ рокрпВроЬрпИ",
        srv_house_desc:"рокрпБродро┐роп ро╡рпАроЯрпНроЯро┐ро▒рпНроХрпБ ро╡ро╛ро╕рпНродрпБ & роЖроЪрпАро░рпНро╡ро╛род рокрпВроЬрпИ.",
        srv_satya_title:"роЪродрпНропроиро╛ро░ро╛ропрог рокрпВроЬрпИ",
        srv_satya_desc:"роЪрпЖро▓рпНро╡роорпН, роиро▓роорпН, роорой роЕроорпИродро┐роХрпНроХро╛рой рокрпВроЬрпИ.",
        srv_homam_title:"ро╣рпЛроороорпН / ро╣ро╡ройроорпН",
        srv_homam_desc:"роЪроЩрпНроХро▓рпНрокродрпНродрпБроЯройрпН родрпАропро╛роХ рокрпВроЬрпИ; роиройрпНроорпИ & роЕроорпИродро┐.",
        srv_archana_title:"роЪро┐ро▒рокрпНрокрпБ роЕро░рпНроЪрпНроЪройрпИ / рокрпВроЬрпИ",
        srv_archana_desc:"родрпЖропрпНро╡роорпН рооро▒рпНро▒рпБроорпН роХрпБроЯрпБроорпНрок роЪроЩрпНроХро▓рпНрокродрпНродро┐ро▒рпНроХро╛рой роЕро░рпНроЪрпНроЪройрпИ.",
        srv_naming_title:"рокрпЖропро░ро┐роЯро▓рпН / роЕройрпНройрокрпНрокро┐ро░ро╛роЪройроорпН",
        srv_naming_desc:"роХрпБро┤роирпНродрпИ роиро┐роХро┤рпНроЪрпНроЪро┐роХро│рпБроХрпНроХро╛рой рокро╛ро░роорпНрокро░ро┐роп роЪроЯроЩрпНроХрпБроХро│рпН.",
        srv_consult_title:"роЖро▓рпЛроЪройрпИ (роорпБроХрпВро░рпНродрпНродроорпН / ро╡ро┤ро┐роХро╛роЯрпНроЯро▓рпН)",
        srv_consult_desc:"родрпЗродро┐, роироЯрпИроорпБро▒рпИ, родропро╛ро░ро┐рокрпНрокрпБ ро╡ро┤ро┐роорпБро▒рпИ роЖро▓рпЛроЪройрпИ."
      }
    };
  </script>

  <header class="topbar">
    <div class="row">
      <div class="brand">
        <span class="dot" aria-hidden="true"></span>
        <span data-i18n="brand">Our Sampradhaya тАв Saravana</span>
      </div>

      <nav class="nav" aria-label="Primary navigation">
        <a class="pill" href="#about" data-i18n="nav_about">About</a>
        <a class="pill" href="#services" data-i18n="nav_services">Services</a>
        <a class="pill" href="#book" data-i18n="nav_book">Book</a>
        <a class="pill" href="#contact" data-i18n="nav_contact">Contact</a>

        <div class="lang-toggle" aria-label="Language toggle">
          <button id="btnEN" type="button">EN</button>
          <button id="btnTA" type="button">родрооро┐ро┤рпН</button>
        </div>

        <a class="pill cta" href="#book" data-i18n="nav_booknow">Book now</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <section id="top">
      <div class="panel hero">
        <div class="hero-grid">
          <div>
            <h1 data-i18n="hero_title">Trusted rituals & guidance тАФ in person or online.</h1>
            <p class="subtitle" id="heroSubtitle"></p>

            <div class="badges">
              <span class="badge" data-i18n="badge1">тЬФ Traditional Vedic rituals</span>
              <span class="badge" data-i18n="badge2">тЬФ Clear preparation checklist</span>
              <span class="badge" data-i18n="badge3">тЬФ English / Tamil / Telugu</span>
            </div>

            <div class="actions">
              <a class="btn primary" href="#book" data-i18n="btn_book">ЁЯУЕ Book a slot</a>
              <a class="btn success" id="waBtn" href="#" data-i18n="btn_whatsapp" aria-label="WhatsApp">ЁЯТм WhatsApp</a>
              <a class="btn" id="callBtn" href="#" data-i18n="btn_call" aria-label="Call">ЁЯУЮ Call</a>
            </div>

            <div class="subtitle" style="margin-top:10px; font-size:13px;" data-i18n="hero_mini">
              Prefer enquiry first? Use WhatsApp or book a short consultation in the calendar.
            </div>
          </div>

          <aside class="side">
            <div class="kpi">
              <div class="box">
                <div class="num" data-i18n="kpi1_num">40+</div>
                <div class="label" data-i18n="kpi1_label">Years experience</div>
              </div>
              <div class="box">
                <div class="num" data-i18n="kpi2_num">Online</div>
                <div class="label" data-i18n="kpi2_label">Puja & guidance</div>
              </div>
              <div class="box">
                <div class="num" data-i18n="kpi3_num">Home</div>
                <div class="label" data-i18n="kpi3_label">House rituals</div>
              </div>
              <div class="box">
                <div class="num" data-i18n="kpi4_num">Temple</div>
                <div class="label" data-i18n="kpi4_label">Special archana</div>
              </div>
            </div>

            <p class="subtitle" style="margin-top:10px; font-size:14px;" data-i18n="note">
              Book instantly via Calendly, or message for custom requirements, materials list, and pricing.
            </p>

            <button class="btn primary" style="width:100%; cursor:pointer" id="quickBookBtn" data-i18n="quickbook" aria-label="Quick Book">
              тЪб Quick Book (popup)
            </button>
          </aside>
        </div>
      </div>
    </section>

    <section id="about">
      <div class="panel about">
        <h2 class="section-title" data-i18n="about_title">About</h2>
        <div class="about-flex">
          <div>
            <img id="saravanaPhoto" class="profile" alt="Saravana photo" />
            <div class="profile-note" data-i18n="about_photo_note">Replace saravana.jpg with his real photo.</div>
          </div>
          <div>
            <p id="aboutP1" style="margin:0;"></p>
            <p style="margin:12px 0 0; color:var(--text-muted)" data-i18n="about_p2">
              You can book a suitable time below, or message directly for special requests and preparation details.
            </p>
          </div>
        </div>
      </div>
    </section>

    <section id="services">
      <div class="panel services">
        <h2 class="section-title" data-i18n="services_title">Services</h2>
        <div class="grid3" id="servicesGrid"></div>
      </div>
    </section>

    <section id="book">
      <div class="panel book">
        <h2 class="section-title" data-i18n="book_title">Book / Enquire</h2>
        <div class="split">
          <div class="box-card">
            <h3 style="margin:0 0 8px; color:#2F2014; font-weight:950;" data-i18n="how_title">How booking works</h3>
            <ol style="margin:0; padding-left:18px;">
              <li data-i18n="how_1">Select a convenient date/time.</li>
              <li data-i18n="how_2">Add notes (service type, location, preferred language).</li>
              <li data-i18n="how_3">YouтАЩll receive confirmation and next steps.</li>
            </ol>

            <div style="height:12px"></div>

            <div class="contact-list">
              <a class="contact-item" id="emailLink" href="#">
                <div>тЬЙя╕П</div>
                <div>
                  <strong data-i18n="email_label">Email</strong>
                  <span id="emailText"></span>
                </div>
              </a>

              <a class="contact-item" id="waLink" href="#" target="_blank" rel="noopener noreferrer">
                <div>ЁЯТм</div>
                <div>
                  <strong data-i18n="wa_label">WhatsApp</strong>
                  <span data-i18n="wa_sub">Fast enquiries & details</span>
                </div>
              </a>
            </div>

            <p style="margin:12px 0 0; color:var(--text-muted); font-size:13px" data-i18n="tip">
              Tip: In your note, mention тАЬService + Date + Location + Any special requestтАЭ.
            </p>
          </div>

          <div class="cal-wrap">
            <div class="calendly-inline-widget" id="calendlyInline" style="min-width:320px;height:740px;" data-url=""></div>
          </div>
        </div>
      </div>
    </section>

    <section id="contact">
      <div class="panel contact">
        <h2 class="section-title" data-i18n="contact_title">Contact</h2>
        <div class="split">
          <div class="box-card">
            <div class="contact-list">
              <a class="contact-item" id="callLink" href="#">
                <div>ЁЯУЮ</div>
                <div>
                  <strong data-i18n="call_label">Call</strong>
                  <span id="phoneText"></span>
                </div>
              </a>

              <a class="contact-item" id="waLink2" href="#" target="_blank" rel="noopener noreferrer">
                <div>ЁЯТм</div>
                <div>
                  <strong data-i18n="wa_label">WhatsApp</strong>
                  <span data-i18n="wa_sub">Fast enquiries & details</span>
                </div>
              </a>

              <div class="contact-item">
                <div>ЁЯУН</div>
                <div>
                  <strong data-i18n="location_label">Location</strong>
                  <span id="locationText"></span>
                </div>
              </div>
            </div>
          </div>

          <div class="box-card">
            <h3 style="margin:0 0 8px; color:#2F2014; font-weight:950;" data-i18n="template_title">Enquiry note template</h3>
            <div id="templateBox" style="border:1px solid rgba(139,30,30,.16); border-radius:16px; padding:12px; background:rgba(255,255,255,.40);"></div>
            <div style="height:12px"></div>
            <button class="btn success" style="width:100%; cursor:pointer" id="copyMsgBtn" data-i18n="copy_btn">ЁЯУЛ Copy message</button>
            <p style="margin:10px 0 0; color:var(--text-muted); font-size:13px" data-i18n="template_tip"></p>
          </div>
        </div>
      </div>
    </section>

    <div class="footer">
      ┬й <span id="year"></span> <span data-i18n="site_name">Our Sampradhaya</span> тАв <span data-i18n="footer">All rights reserved</span>
    </div>
  </main>

  <script>
    document.title = SITE_NAME + " | Saravana - Temple Priest Services";

    function escapeHtml(str){
      return String(str).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;")
        .replaceAll('"',"&quot;").replaceAll("'","&#039;");
    }
    function setActiveLangButtons(lang){
      const btnEN = document.getElementById("btnEN");
      const btnTA = document.getElementById("btnTA");
      if (btnEN) btnEN.classList.toggle("active", lang === "en");
      if (btnTA) btnTA.classList.toggle("active", lang === "ta");
      document.documentElement.lang = (lang === "ta" ? "ta" : "en");
    }
    function t(lang, key){
      return (I18N[lang] && I18N[lang][key]) ? I18N[lang][key] : (I18N.en[key] || "");
    }

    function renderServices(lang){
      const grid = document.getElementById("servicesGrid");
      if (!grid) return;
      grid.innerHTML = "";

      SERVICES.forEach(s => {
        const titleKey = s.key + "_title";
        const descKey  = s.key + "_desc";

        const card = document.createElement("div");
        card.className = "service-card";
        card.style.backgroundImage = `url("${makeBg(s.kind)}")`;

        const tagsHtml = s.tags.map(tag => `<span class=\"tag\">${escapeHtml(tag)}</span>`).join("");

        card.innerHTML = `
          <div class="service-content">
            <h3 class="service-title">${escapeHtml(t(lang, titleKey))}</h3>
            <p class="service-desc">${escapeHtml(t(lang, descKey))}</p>
            <div class="service-meta">
              ${tagsHtml}
              <span class="tag">тП▒ ${escapeHtml(s.duration)}</span>
            </div>
            <div class="service-actions">
              <a class="btn primary" href="#book">${escapeHtml(t(lang, "book_btn_small"))}</a>
              <a class="btn enquire-btn" href="#" data-service="${encodeURIComponent(t(lang, titleKey))}">${escapeHtml(t(lang, "enquire_btn"))}</a>
            </div>
          </div>
        `;
        grid.appendChild(card);
      });

      const other = document.createElement("div");
      other.className = "other-services";
      other.innerHTML = `
        <h3>${escapeHtml(t(lang, "other_title"))}</h3>
        <p>${escapeHtml(t(lang, "other_desc"))}</p>
        <div class="chips">
          <span class="chip">${escapeHtml(t(lang, "other_chip1"))}</span>
          <span class="chip">${escapeHtml(t(lang, "other_chip2"))}</span>
          <span class="chip">${escapeHtml(t(lang, "other_chip3"))}</span>
          <span class="chip">${escapeHtml(t(lang, "other_chip4"))}</span>
          <span class="chip">${escapeHtml(t(lang, "other_chip5"))}</span>
        </div>
      `;
      grid.appendChild(other);

      bindEnquiryButtons();
    }

    // Sanitize WhatsApp number (keep digits only)
    const waNumberSanitized = String(WHATSAPP_NUMBER || "").replace(/\D/g, "");
    const waBase = "https://wa.me/" + waNumberSanitized;

    function bindEnquiryButtons(){
      document.querySelectorAll('.enquire-btn').forEach(btn => {
        btn.addEventListener("click", (e) => {
          e.preventDefault();
          const el = e.currentTarget;
          const encoded = el.getAttribute("data-service") || "";
          const service = decodeURIComponent(encoded);
          const msg = `Vanakkam ЁЯЩП\nService: ${service}\nDate:\nLocation:\nNotes:\n`;
          const waUrl = waBase + "?text=" + encodeURIComponent(msg);
          // open in a new tab/window so we don't navigate away from the site
          window.open(waUrl, "_blank", "noopener");
        });
      });
    }

    function applyLanguage(lang){
      setActiveLangButtons(lang);
      try { localStorage.setItem("site_lang", lang); } catch(e){/* ignore */ }

      document.querySelectorAll("[data-i18n]").forEach(el => {
        const key = el.getAttribute("data-i18n");
        if (key === "template_html") return;
        el.textContent = t(lang, key);
      });

      const heroEl = document.getElementById("heroSubtitle");
      if (heroEl) heroEl.innerHTML = t(lang, "hero_subtitle_html");

      const citySpan = document.getElementById("templeCityInline");
      if (citySpan) citySpan.textContent = TEMPLE_OR_CITY;

      const aboutP1 = document.getElementById("aboutP1");
      if (aboutP1) aboutP1.innerHTML = t(lang, "about_p1_html");

      const templateBox = document.getElementById("templateBox");
      if (templateBox) templateBox.innerHTML = t(lang, "template_html");

      renderServices(lang);
    }

    // Static fields
    const yearEl = document.getElementById("year");
    if (yearEl) yearEl.textContent = new Date().getFullYear();

    const phoneTextEl = document.getElementById("phoneText");
    if (phoneTextEl) phoneTextEl.textContent = SARAVANA_PHONE;

    const emailTextEl = document.getElementById("emailText");
    if (emailTextEl) emailTextEl.textContent = SARAVANA_EMAIL;

    const locationTextEl = document.getElementById("locationText");
    if (locationTextEl) locationTextEl.textContent = TEMPLE_OR_CITY;

    // Photo
    const photoEl = document.getElementById("saravanaPhoto");
    if (photoEl) {
      photoEl.src = SARAVANA_PHOTO;
      photoEl.onerror = () => {
        photoEl.src = "data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='240' height='240'><rect width='100%25' height='100%25' fill='%23FFF1D6'/><circle cx='120' cy='95' r='46' fill='%23E6C89A'/><rect x='55' y='145' width='130' height='70' rx='26' fill='%23D9B07E'/><text x='120' y='225' text-anchor='middle' font-family='Arial' font-size='16' fill='%236B4E2E'>Saravana</text></svg>";
      };
    }

    // Links
    const telHref = "tel:" + SARAVANA_PHONE.replace(/\s/g,"");
    const callBtn = document.getElementById("callBtn");
    const callLink = document.getElementById("callLink");
    if (callBtn) callBtn.href = telHref;
    if (callLink) callLink.href = telHref;

    const mailHref =
      "mailto:" + encodeURIComponent(SARAVANA_EMAIL) +
      "?subject=" + encodeURIComponent("Puja / Ritual enquiry") +
      "&body=" + encodeURIComponent("Vanakkam ЁЯЩП\nI would like to enquire about a puja/ritual.\nService:\nDate:\nLocation:\nNotes:\n");
    const emailLink = document.getElementById("emailLink");
    if (emailLink) {
      emailLink.href = mailHref;
      // leave mailto in same tab (user expectation)
    }

    const waText = encodeURIComponent("Vanakkam ЁЯЩП I would like to enquire about a puja/ritual.\nService:\nDate:\nLocation:\nNotes:\n");
    const waHref = waBase + "?text=" + waText;
    const waBtnEl = document.getElementById("waBtn");
    const waLinkEl = document.getElementById("waLink");
    const waLink2El = document.getElementById("waLink2");
    if (waBtnEl) {
      waBtnEl.href = waHref;
      waBtnEl.target = "_blank";
      waBtnEl.rel = "noopener noreferrer";
    }
    if (waLinkEl) {
      waLinkEl.href = waHref;
      waLinkEl.target = "_blank";
      waLinkEl.rel = "noopener noreferrer";
    }
    if (waLink2El) {
      waLink2El.href = waHref;
      waLink2El.target = "_blank";
      waLink2El.rel = "noopener noreferrer";
    }

    // Calendly тАФ set the data-url and initialise inline widget when Calendly is available.
    const calInline = document.getElementById("calendlyInline");
    if (calInline) {
      calInline.setAttribute("data-url", CALENDLY_URL);

      // If Calendly has already loaded, init inline widget. Otherwise poll for it briefly.
      const initCalendlyInline = () => {
        try {
          if (window.Calendly && typeof window.Calendly.initInlineWidget === "function") {
            // remove previous contents (if any) and init inline
            calInline.innerHTML = "";
            window.Calendly.initInlineWidget({ url: CALENDLY_URL, parentElement: calInline });
            return true;
          }
        } catch (err) { /* ignore */ }
        return false;
      };

      if (!initCalendlyInline()) {
        // poll for up to ~8s
        const start = Date.now();
        (function waitForCalendly(){
          if (initCalendlyInline()) return;
          if (Date.now() - start < 8000) setTimeout(waitForCalendly, 300);
        })();
      }
    }

    // Quick book
    const quickBookBtn = document.getElementById("quickBookBtn");
    if (quickBookBtn) {
      quickBookBtn.addEventListener("click", () => {
        if (!window.Calendly) {
          alert("Calendly is still loading. Please try again in a moment or scroll to the booking section.");
          return;
        }
        window.Calendly.initPopupWidget({ url: CALENDLY_URL });
      });
    }

    // Copy message
    const copyMsgBtn = document.getElementById("copyMsgBtn");
    if (copyMsgBtn) {
      copyMsgBtn.addEventListener("click", async () => {
        const lang = (function(){ try{return localStorage.getItem("site_lang")||"en"; } catch(e){return "en";}})();
        const text = (lang === "ta")
          ? `ро╡рогроХрпНроХроорпН ЁЯЩП\nроиро╛ройрпН [роЪрпЗро╡рпИ] роР [родрпЗродро┐] роЕройрпНро▒рпБ [роЗроЯроорпН] роЗро▓рпН роорпБройрпНрокродро┐ро╡рпБ роЪрпЖропрпНроп ро╡ро┐ро░рпБроорпНрокрпБроХро┐ро▒рпЗройрпН.\nроорпКро┤ро┐: [родрооро┐ро┤рпН/роЖроЩрпНроХро┐ро▓роорпН/родрпЖро▓рпБроЩрпНроХрпБ].\nроХрпБро▒ро┐рокрпНрокрпБ: [роЪро┐ро▒рокрпНрокрпБ ро╡рпЗрогрпНроЯрпБроХрпЛро│рпН].`
          : `Vanakkam ЁЯЩП\nI would like to book [Service] on [Date] at [Location].\nPreferred language: [Tamil/English/Telugu].\nNotes: [Any special requirement].`;
        try{ await navigator.clipboard.writeText(text); alert(lang==="ta" ? "роироХро▓рпЖроЯрпБроХрпНроХрокрпНрокроЯрпНроЯродрпБ!" : "Copied!"); }
        catch{ alert(lang==="ta" ? "роироХро▓рпЖроЯрпБроХрпНроХ роорпБроЯро┐ропро╡ро┐ро▓рпНро▓рпИ." : "Copy failed."); }
      });
    }

    // Language toggle
    const btnEN = document.getElementById("btnEN");
    const btnTA = document.getElementById("btnTA");
    if (btnEN) btnEN.addEventListener("click", () => applyLanguage("en");)
  </script>
</body>
</html>
